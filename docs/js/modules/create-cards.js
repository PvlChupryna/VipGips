import products from '../products.js';

export default function renderProductCards(languageState) {

  const container = document.getElementById('cards-container');
  if (!container) return;

  function render(lang) {
    const items = products[lang] || [];
    container.innerHTML = '';

    items.forEach(product => {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <div class="card__img">
          <img src="../../../img/bags/${product.image}.png" alt="products img">
        </div>
        <div class="card-header">
          <div class="card__title">
            <svg width="125" height="34" viewBox="0 0 125 34" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M80.6011 1.81346L80.6011 3.62695L82.2391 3.62695L83.8771 3.62695L83.8771 1.81346L83.8771 -2.61777e-05L82.2391 -2.61796e-05L80.6011 -2.61816e-05L80.6011 1.81346Z" fill="#373286" />
                <path d="M23.3299 2.7202L23.3299 5.21375L27.0446 5.21375L30.7594 5.21375L30.7594 2.7202L30.7594 0.226648L27.0446 0.226648L23.3299 0.226648L23.3299 2.7202Z" fill="#E31A26" />
                <path d="M65.9763 6.55747C65.479 6.60847 64.7361 6.76715 64.2681 6.9145C61.3138 7.87225 59.319 10.6038 58.8334 14.3668C58.7398 15.0979 58.7398 16.9114 58.8334 17.7105C59.0967 19.9433 59.7343 21.8248 60.7054 23.2359C61.1149 23.8423 62.2206 24.9474 62.7763 25.3215C63.5778 25.8542 64.426 26.2055 65.4673 26.4209C66.2863 26.5909 68.1466 26.6079 68.9012 26.4492C69.8899 26.2395 70.8142 25.8032 71.5454 25.1798C71.9432 24.8511 72.499 24.222 72.5867 24.0067C72.733 23.6666 72.6043 26.5512 72.4405 27.407C72.2591 28.3534 71.8087 29.3225 71.2939 29.8835C70.9487 30.2632 70.1707 30.7789 69.65 30.9773C68.7959 31.3003 67.3861 31.459 66.3214 31.3457C64.2973 31.136 63.1273 30.2576 62.7003 28.6311L62.6359 28.3931L61.0038 28.3931L59.3658 28.3931L59.3658 28.5461C59.3658 28.8181 59.6349 29.8722 59.8279 30.3482C60.331 31.6177 61.0798 32.3998 62.3785 33.0175C63.2151 33.4142 63.9288 33.6579 64.7946 33.8392C65.6194 34.0149 67.6435 34.0546 68.7316 33.9186C70.7089 33.6749 72.1187 33.1025 73.4233 31.9974C74.3827 31.1983 75.2426 29.6795 75.6053 28.1664C75.8861 26.9989 75.8861 27.1746 75.9037 16.815L75.9271 7.08451L74.371 7.08451L72.8207 7.08451L72.809 8.42763L72.7915 9.77642L72.5048 9.40805C71.3465 7.93459 70.1473 7.03918 68.9422 6.74448C68.1173 6.54613 66.8655 6.46679 65.9763 6.55747ZM68.6555 9.49873C70.9955 9.9691 72.3293 11.9413 72.7037 15.5059C72.8032 16.441 72.7915 18.3338 72.6803 19.0479C72.3878 20.9011 71.6975 22.0345 70.2994 22.9583C69.4043 23.5476 68.4683 23.8197 67.351 23.8083C65.5551 23.8027 64.1862 23.0149 63.3087 21.5018C62.5306 20.153 62.1738 18.5832 62.1738 16.492C62.1738 14.4915 62.4429 12.899 62.9343 11.9583C63.4608 10.9495 64.3324 10.1221 65.2333 9.76508C66.105 9.41939 67.661 9.30038 68.6555 9.49873Z" fill="#373286" />
                <path d="M96.4545 6.57992C95.5127 6.71026 94.7873 6.95395 94.1438 7.36199C93.6641 7.66235 92.3127 8.95447 91.9852 9.42484C91.8565 9.60619 91.7336 9.75354 91.7044 9.75354C91.681 9.75354 91.6576 9.15282 91.6576 8.42175L91.6576 7.08997L90.1073 7.08997L88.5571 7.08997L88.5571 20.3228L88.5571 33.5557L90.1951 33.5557L91.8331 33.5557L91.8331 28.8236C91.8331 26.0013 91.8565 24.0915 91.8857 24.0915C91.915 24.0915 92.0378 24.2162 92.1489 24.3692C92.6813 25.0719 93.6933 25.8086 94.5884 26.1543C95.9105 26.6587 97.7474 26.7211 99.4263 26.33C100.696 26.0297 101.725 25.4573 102.714 24.4882C103.931 23.3037 104.644 22.0683 105.148 20.3001C106.119 16.8715 105.926 13.4145 104.615 10.802C104.2 9.97456 103.785 9.3795 103.188 8.77878C102.111 7.67935 100.901 7.02196 99.3503 6.6876C98.7477 6.55725 97.0805 6.49491 96.4545 6.57992ZM98.3558 9.52118C99.3444 9.71953 99.9587 10.0312 100.573 10.6376C101.837 11.8844 102.322 13.4995 102.322 16.4408C102.328 18.2486 102.135 19.3991 101.626 20.6345C100.748 22.7654 99.245 23.8195 97.098 23.8195C95.8344 23.8195 94.8399 23.4738 93.8103 22.6804C92.3186 21.5356 91.7161 19.9828 91.7161 17.3079C91.7219 14.531 92.2659 12.3548 93.2955 11.0457C93.9098 10.2579 94.7931 9.71953 95.8403 9.49852C96.3902 9.38517 97.7298 9.39651 98.3558 9.52118Z" fill="#373286" />
                <path d="M115.233 6.5796C113.25 6.81762 111.665 7.50902 110.594 8.60844C109.676 9.54919 109.237 10.5353 109.085 11.9634C108.892 13.8732 109.676 15.426 111.285 16.3158C112.133 16.7861 112.753 16.9845 115.438 17.6249C118.486 18.3559 119.24 18.5656 119.942 18.9C120.563 19.189 120.925 19.5064 121.136 19.9427C121.27 20.2261 121.288 20.3281 121.282 20.8552C121.276 21.5466 121.171 21.8922 120.791 22.4023C120.393 22.9407 119.48 23.4394 118.486 23.6604C117.895 23.7964 116.918 23.8474 116.023 23.7964C114.256 23.7001 113.203 23.2977 112.566 22.4873C112.086 21.8696 111.735 21.0308 111.63 20.2431L111.589 19.9484L110.003 19.9484L108.412 19.9484L108.459 20.4358C108.646 22.5043 109.284 23.8871 110.489 24.8448C111.969 26.0179 113.601 26.4996 116.345 26.562C118.106 26.6017 119.317 26.426 120.58 25.9273C121.563 25.5419 122.294 25.0659 122.99 24.3575C123.511 23.8247 123.722 23.5301 124.037 22.8783C124.453 22.0169 124.564 21.5069 124.564 20.3735C124.564 19.2627 124.5 18.9567 124.119 18.2029C123.581 17.1375 122.475 16.3498 120.644 15.7377C120.323 15.63 118.854 15.2447 117.38 14.882C113.777 13.9922 113.344 13.8449 112.805 13.3689C112.378 12.9835 112.279 12.7228 112.279 11.9294C112.279 11.3003 112.291 11.221 112.443 10.9036C112.811 10.1386 113.636 9.65687 115.052 9.37351C115.801 9.23183 117.386 9.28284 118.17 9.48119C119.738 9.87789 120.609 10.762 120.767 12.1107L120.808 12.4678L122.376 12.4678L123.95 12.4678L123.95 12.2128C123.95 11.5724 123.511 10.1386 123.119 9.49819C122.821 9.00515 122.078 8.25141 121.463 7.80371C120.674 7.23133 119.697 6.85163 118.48 6.65328C117.848 6.55127 115.853 6.50026 115.233 6.5796Z" fill="#373286" />
                <path d="M46.6419 6.89691C45.4309 7.04992 44.2375 7.50329 43.4068 8.12668C43.2255 8.26269 42.8686 8.58005 42.6229 8.82941L42.1666 9.28278L42.1666 8.29669L42.1666 7.31061L38.5981 7.31061L35.0297 7.31061L35.0297 19.6933L35.0297 32.076L38.7151 32.076L42.4006 32.076L42.4006 28.0694L42.4006 24.0684L42.8277 24.4594C44.4013 25.9329 46.2148 26.6016 48.3383 26.5052C51.2809 26.3692 53.498 24.9694 54.8552 22.3909C55.7035 20.7814 56.0545 19.1493 56.0545 16.8314C56.0545 14.5362 55.7269 12.9664 54.8903 11.306C54.4223 10.3709 53.9309 9.70215 53.1938 8.98242C52.0297 7.84332 50.6725 7.18593 49.0111 6.94225C48.508 6.86291 47.0923 6.84024 46.6419 6.89691ZM46.2207 12.6661C47.3907 12.9041 48.1687 13.7485 48.4963 15.1313C48.6074 15.5903 48.625 15.8397 48.625 16.8314C48.625 17.8232 48.6074 18.0725 48.4963 18.5316C48.233 19.6423 47.7007 20.3847 46.8876 20.7644C45.9574 21.2065 44.6061 21.1611 43.7286 20.6681C43.4068 20.4811 42.9505 20.005 42.7399 19.631C42.0145 18.3332 41.9911 15.562 42.6931 14.1395C43.05 13.4141 43.7578 12.8531 44.5417 12.6717C44.9922 12.5641 45.7234 12.5641 46.2207 12.6661Z" fill="#E31A26" />
                <path d="M80.6011 16.5764L80.6011 26.0688L82.2391 26.0688L83.8771 26.0688L83.8771 16.5764L83.8771 7.08387L82.2391 7.08387L80.6011 7.08387L80.6011 16.5764Z" fill="#373286" />
                <path d="M0.000280278 7.37863C0.0178302 7.4183 1.46862 11.6403 3.22946 16.7577L6.43525 26.0688L10.7759 26.0688L15.1166 26.0688L18.258 16.7861C19.9838 11.68 21.4112 7.45797 21.4346 7.40696C21.4697 7.31629 21.2123 7.31062 17.714 7.32195L13.9583 7.33896L13.0282 10.5409C11.6885 15.1596 11.2088 17.0638 10.9456 18.8092C10.8871 19.1889 10.8286 19.495 10.811 19.495C10.7935 19.495 10.7233 19.1096 10.6472 18.6449C10.4834 17.5795 10.1792 16.1004 9.84578 14.7346C9.64103 13.8902 8.12589 8.35337 7.87434 7.52031L7.80999 7.31062L3.89051 7.31062C0.784176 7.31062 -0.0172696 7.32762 0.000280278 7.37863Z" fill="#E31A26" />
                <path d="M23.3299 16.6897L23.3299 26.0688L27.0446 26.0688L30.7594 26.0688L30.7594 16.6897L30.7594 7.31062L27.0446 7.31062L23.3299 7.31062L23.3299 16.6897Z" fill="#E31A26" />
              </svg>
            <span>${product.name}</span>
          </div>
          <div class="card__subtitle">${product.description}</div>
        </div>
        <div class="card__properties-wrapper">
          <div class="card__properties">
            <div class="card__propety card__propety--sfera">
              <div class="card__propety-title">${product.sferaTitle}</div>
              <div class="card__propety-description">${product.sferaText}</div>
            </div>
            <div class="card__propety card__propety--propert">
              <div class="card__propety-title">${product.propertiesTitle}</div>
              <ul class="card__propety-description">
                ${Object.values(product.properties).map(p => `<li>${p}</li>`).join('')}
              </ul>
            </div>
            <div class="card__propety card__propety--sertif">
              <div class="card__propety-title">${product.certificate}</div>
              <div class="card__propety-description--pdf">
                <a href="../../pdf/sertificate.pdf" download>${product.download}</a>
              </div>
            </div>
            <div class="card__propety card__propety--tech">
              <div class="card__propety-title">${product.techCard}</div>
              <div class="card__propety-description--pdf">
                <a href="../../pdf/${product.tech}.pdf" download>${product.download}</a>
              </div>
            </div>
          </div>
        </div>
        <button class="card__btn">
          <a href="../../pdf/${product.tech}.pdf" target="_blank">${product.buttonText}</a>
        </button>
      `;

      container.appendChild(card);
    });
  }

  // начальная отрисовка
  render(languageState.current);

  // подписка на изменения языка
  languageState.subscribe(render);
}

